<table>
<tbody>
<tr class="odd">
<td><img src="media/image1.jpg" style="width:0.80208in;height:0.90625in" /></td>
<td><p><strong>Министерство образования и науки Российской Федерации</strong></p>
<p><strong>Федеральное государственное бюджетное образовательное учреждение</strong></p>
<p><strong>высшего образования</strong></p>
<p><strong>«Московский государственный технический университет</strong></p>
<p><strong>имени Н.Э. Баумана</strong></p>
<p><strong>(национальный исследовательский университет)»</strong></p>
<p><strong>(МГТУ им. Н.Э. Баумана)</strong></p></td>
</tr>
</tbody>
</table>

ФАКУЛЬТЕТ ИУ

КАФЕДРА ИУ7

**<u>ОТЧЕТ ПО ЛР4 ТИПОВ И СТРУКТУР ДАННЫХ, Вариант 3</u>**

Студент Андреев Александр Алексеевич

фамилия, имя, отчество

Группа ИУ7-34Б

Тип практики учебная

Студент **\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_**

подпись, дата фамилия, и.о.

Преподаватель **\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_**

> подпись, дата фамилия, и.о.

Оценка
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

9 октября 2020

**Оглавление**
==============

**[Оглавление](#оглавление) 1**

**[1. Цель работы](#цель-работы) 2**

**[2. Описание условия задачи](#описание-условия-задачи) 2**

**[3. Описание ТЗ, включающее внешнюю
спецификацию](#описание-тз-включающее-внешнюю-спецификацию) 2**

> [a. Описание исходных данных](#a.-описание-исходных-данных) 2
>
> [b. Описание задачи, реализуемой
> программой](#b.-описание-задачи-реализуемой-программой) 2
>
> [c. Способ обращения программы](#c.-способ-обращения-программы) 3
>
> [d. Описание возможных аварийных ситуаций и ошибок
> пользователя](#d.-описание-возможных-аварийных-ситуаций-и-ошибок-пользователя)
> 4

**[4. Описание внутренних СД](#описание-внутренних-сд) 5**

**[5. Алгоритм](#алгоритм) 6**

**[6. Набор тестов с указанием, что
проверяется](#набор-тестов-с-указанием-что-проверяется) 9**

**[7. Выводы по проделанной работе](#выводы-по-проделанной-работе) 10**

**[8. Контрольные вопросы](#контрольные-вопросы) 11**

**1. Цель работы**
==================

В качестве цели работы ставится приобретение навыков реализации операции
работы со стеком, который представлен в виде массива (статического или
динамического) и в виде односвязного линейного списка; оценить
преимущества и недостатки каждой реализации: получить представление о
механизмах выделения и освобождения памяти при работе со стеком.

**2. Описание условия задачи**
==============================

Создать программу работы со стеком, выполняющую операции добавление,
удаления элементов и вывод текущего состояния стека.

Реализовать стек:

а) массивом;  
б) списком.

Все стандартные операции со стеком должны быть оформлены подпрограммами.
При реализации стека списком в вывод текущего состояния стека добавить
просмотр адресов элементов стека и создать свой список или массив
свободных областей (адресов освобождаемых элементов) с выводом его на
экран.  
Используя стек, определить, является ли строка палиндромом

**3. Описание ТЗ, включающее внешнюю спецификацию**
===================================================

a. Описание исходных данных
---------------------------

Исходные данные программа получает из командной строки, где

-   каждым элементом стека является цифра

Ограничения на записи во входном файле:

1.  Максимальный размер стека 256 символов

b. Описание задачи, реализуемой программой
------------------------------------------

Программа должна уметь совершать следующие действия:

-   При вводе выводить описание своей работы

-   Выводить основное меню при входе / выходе в / из него, где
    > расположен блоки выбора работы с массивом или стеком и завершения
    > работы программы

-   Выводить подпрограммное меню при при входе в него, где расположены
    > блоки выхода в основное меню, добавление элемента в стек, удаление
    > элемента из стека, проверка стека на палиндром, печать содержимого
    > стека

-   Указывать информацию, с каким типом памяти программа сейчас работает

-   Выводить причина, почему не может быть произведена та или иная
    > выбранная операция пользователем

c. Способ обращения программы
-----------------------------

Скомпилированная программа запускается командой **“./a.out”** на Unix и
**“./a.exe”** на Windows.

При запуске программа должна вывести описание и основное меню:

Рис. 1

<table>
<tbody>
<tr class="odd">
<td><p>===</p>
<p>Программа работы со стеком выполняет операции:</p>
<p>- Добавления / Удаления элементов</p>
<p>- Вывода текущего состояния стека</p>
<p>- Проверку на палиндром числа</p>
<p>===</p>
<p>Основное меню программы:</p>
<p>0 - Выход из программы</p>
<p>1 - Работа с массивом</p>
<p>2 - Работа со списком</p></td>
</tr>
</tbody>
</table>

Далее после ввода соответствующей команды программа должна выполнять
команды пользователя.

0 - Программа завершает свою работу

1 - Программа переходит в режим работы со стеком, хранящимся массивом,
выводит информацию о переводе и соответствующее меню (см. Рис. 2)

2 - Программа переходит в режим работы со стеком, хранящимся списком,
выводит информацию о переводе и соответствующее меню (см. Рис. 3)

Рис. 2 (Вывод информации о переводе и меню при выборе работы со стеком,
хранящимся массивом)

<table>
<tbody>
<tr class="odd">
<td><p>Выбрана работа со списком (2)...</p>
<p>Меню подпрограммы работы со списком:</p>
<p>0 - Вернуться в основное меню</p>
<p>1 - Добавить символ в стек</p>
<p>2 - Удалить символ из стека</p>
<p>3 - Проверить на палиндром</p>
<p>4 - Вывести содержимое</p></td>
</tr>
</tbody>
</table>

Пояснение к функциональности меню Рис. 2:

0 - Возвращает пользователя к основному меню программы

1 - Запрашивает у пользователя цифру для добавления или выводит
информацию о том, то добавить цифру в стек невозможно

2 - Удаляет цифру из стека или выводит информацию о том, что это сделать
невозможно.

3 - Выводит информацию о том, является ли текущий стек палиндромом, или
указывает, что это сделать невозможно.

4 - Выводит содержимое стека или пишет, что это сделать невозможно.

Рис. 3 (Вывод информации о переводе и меню при выборе работы со стеком,
хранящимся списком)

<table>
<tbody>
<tr class="odd">
<td><p>Выбрана работа с массивом (1)...</p>
<p>Меню подпрограммы работы с массивом:</p>
<p>0 - Назад</p>
<p>1 - Добавить символ</p>
<p>2 - Удалить символ</p>
<p>3 - Проверить на палиндром</p>
<p>4 - Вывести</p></td>
</tr>
</tbody>
</table>

Пояснение к функциональности меню Рис. 3:

0 - Возвращает пользователя к основному меню программы

1 - Запрашивает у пользователя цифру для добавления или выводит
информацию о том, то добавить цифру в стек невозможно

2 - Удаляет цифру из стека или выводит информацию о том, что это сделать
невозможно.

3 - Выводит информацию о том, является ли текущий стек палиндромом, или
указывает, что это сделать невозможно.

4 - Выводит содержимое стека с таблицей адресов и данных об освобождении
памяти или пишет, что это сделать невозможно

При наличии аварийных ситуаций и ошибок пользователя программа должна
вывести соответствующее сообщение и не должна завершить свою работу
абортно.

d. Описание возможных аварийных ситуаций и ошибок пользователя
--------------------------------------------------------------

В представленной ниже **Таблице 1** отражены действия программы при
различных возможных, допущенных пользователем, при использовании
основного меню программы ошибках.

Табл.1

| Действие программы при различных ошибках |                                                    |                                                                                      |
|------------------------------------------|----------------------------------------------------|--------------------------------------------------------------------------------------|
| №                                        | Действие пользователя                              | Реакция программы                                                                    |
| 1                                        | Введен несуществующий номер или строка пункта меню | Программа выведет сообщение об ошибке “Ошибка ввода пункта меню. Повторите попытку.” |

В представленной ниже **Таблице 2** отражены действия программы при
различных возможных, допущенных пользователем, при использовании меню
подпрограмм ошибках.

Табл.2

| Действие программы при различных ошибках |                                                                                                              |                                                                                      |
|------------------------------------------|--------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
| №                                        | Действие пользователя                                                                                        | Реакция программы                                                                    |
| 1                                        | Введен несуществующий номер или строка пункта меню.                                                          | Программа выведет сообщение об ошибке “Ошибка ввода пункта меню. Повторите попытку.” |
| 2                                        | Пользователь пытается добавить в стек, размер которого максимальный, новый элемент (STACK\_MAX\_SIZE = 256). | Программа выведет сообщение об ошибке “Стек полон...”                                |
| 3                                        | Пользователь пытается удалить элемент пустого стека.                                                         | Программа выведет сообщение об ошибке “Стек пуст...”                                 |
| 4                                        | Пользователь просит вывести элементы пустого стека                                                           | Программа выведет сообщение об ошибке “Стек пуст...”                                 |
| 5                                        | Пользователь пытается проверить пустой стек на палиндром                                                     | Программа выведет сообщение об ошибке “Стек пуст....”                                |

**4. Описание внутренних СД**
=============================

При выборе пользователем хранения стека, как массива, его элементы
хранятся следующим образом. (см. Рис. 4) Все элементы хранятся в
структуре v\_stack\_s, где расположен целочисленный массив, и количество
уже добавленных в него элементов.

STACK\_MAX\_SIZE =  256;

Рис. 4

<table>
<tbody>
<tr class="odd">
<td><p>struct v_stack_s</p>
<p>{</p>
<p>int data[STACK_MAX_SIZE];</p>
<p>int size;</p>
<p>};</p></td>
</tr>
</tbody>
</table>

При выборе пользователем хранения стека, как списка, элементы хранятся
следующим образом. (см. Рис. 5) Каждый элемент последующего элемента
списка представляет из себя структуру s\_stack\_s с значением и ссылкой
на ранее добавленный элемент.

Рис. 5

<table>
<tbody>
<tr class="odd">
<td><p>struct s_stack_s</p>
<p>{</p>
<p>int data;</p>
<p>struct s_stack_s *next;</p>
<p>};</p></td>
</tr>
</tbody>
</table>

**5. Алгоритм**
===============

При запуске программа выводит описание и основное меню (Рис. 6):

Рис. 6

<table>
<tbody>
<tr class="odd">
<td><p>===</p>
<p>Программа работы со стеком выполняет операции:</p>
<p>- Добавления / Удаления элементов</p>
<p>- Вывода текущего состояния стека</p>
<p>- Проверку на палиндром числа</p>
<p>===</p>
<p>Основное меню программы:</p>
<p>0 - Выход из программы</p>
<p>1 - Работа с массивом</p>
<p>2 - Работа со списком</p></td>
</tr>
</tbody>
</table>

Далее, пользователю выводится приглашение для ввода пункта меню (Рис.
7):

Рис. 7

|                                   |
|-----------------------------------|
| Укажите цифру из доступных (0-2): |

После чего пользователь выбирает пункт меню. В случае некорректного
выбора пункта - пользователь получает сообщение об ошибке.

Далее пользователь работает с выбранным меню.

**Функции**

*Работа со стеком, как массивом*

**void v\_push(struct v\_stack\_s \*v\_stack)**

Добавляет в конец стека элемент с увеличением размера на единицу, если
стек имеет меньше максимально допустимого размера.

**void v\_delete(struct v\_stack\_s \*v\_stack)**

Удаляет последний элемент стека и уменьшает размер на единицу, если стек
не пуст.

**void v\_is\_palindrom(struct v\_stack\_s \*v\_stack)**

Проверяет стек на палиндром, если стек не пуст..

**void v\_print(struct v\_stack\_s \*v\_stack)**

Создает дублирующий массив стека, который заполняет с конца, после чего
последовательно выводит элементы массива без пробела, если стек не пуст.

Если стек пуст выводит сообщение Стек пуст…”.

**int scanf\_v\_menu\_code()**

Выводит приглашение о вводе и считывает цифру выбранного пункта меню,
передавая сообщение об ошибке в v\_menu(...);

**int v\_menu(struct v\_stack\_s \*v\_stack)**

Получает сообщение о чтение и выбирает, какая функция должна дальше
выполняться в соответствии с указанной пользователем цифрой.

**void v\_operations()**

Выводит сообщение о том, что выбран массив, как хранение, далее до
получения ключа о возврате в основное меню выполняет в цикле работе
v\_menu(...);

*Работа со стеком, как списком*

**int get\_s\_size(struct s\_stack\_s\* head)**

Получени размер существующего стека.

**void append\_node(struct s\_stack\_s\*\* headRef, int num)**

Добавляет в существующий стек новую запись.

**void s\_push(struct s\_stack\_s \*s\_stack)**

Верифицирует размер стека и выполняет, если стек не полон, операцию
**void append\_node(struct s\_stack\_s\*\* headRef, int num)**

**int del(struct s\_stack\_s \*\* head, int index)**

Непосредственное удаление последнего элемента стека.

**void s\_delete(struct s\_stack\_s \*s\_stack)**

Верификация размера стека с дальнейшим удалением последнего элемента,
если стек не пуст.

**int get\_elem(struct s\_stack\_s \*\*headRef, int elem\_index)**

Получение значения i-го элемента стека.

**void s\_is\_palindrom(struct s\_stack\_s \*s\_stack)**

Проверка стека на палиндром, если он не пуст.

**void s\_print(struct s\_stack\_s \*\*headRef)**

Вывод содержимого стека на экран, если он не пуст.

**int scanf\_s\_menu\_code()**

Выводит приглашение о вводе и считывает цифру выбранного пункта меню,
передавая сообщение об ошибке в v\_menu(...);

**int s\_menu(struct s\_stack\_s \*s\_stack)**

Получает сообщение о чтение и выбирает, какая функция должна дальше
выполняться в соответствии с указанной пользователем цифрой.

**void s\_operations()**

Выводит сообщение о том, что выбран список, как хранение, далее до
получения ключа о возврате в основное меню выполняет в цикле работе
s\_menu(...);

**6. Набор тестов с указанием, что проверяется**
================================================

В представленных ниже **Таблица 2** отражены тестирование устойчивости
работы консольного меню программы и демонстрация устойчивости работы
программы к различному типу выполняемых с ней операций пользователем
соответственно.

Табл. 2

| Тестирование устойчивости работы программы |                                                                                                              |                                                                                                               |                                                       |
|--------------------------------------------|--------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
| №                                          | Ввод пользователя                                                                                            | Реакция программы                                                                                             | Что проверяется данной операцией?                     |
| 1                                          | Ввод НЕКОРРЕКТНОГО пункта основного меню или меню подпрограммы                                               | Программа выводит “Ошибка ввода пункта меню. Повторите попытку...”                                            | Устойчивость программы к вводу неверной команды меню  |
| 2                                          | Вводе НЕ цифры в блоке добавления элемента                                                                   | Программа выводит “Вы ввели некорректное число...”                                                            | Устойчивость программы к вводу некорректного значения |
| 3                                          | Пользователь пытается добавить в стек, размер которого максимальный, новый элемент (STACK\_MAX\_SIZE = 256). | Программа выводит “Введенный файл оказался пустым или не может быть прочитан. Исправьте и повторите попытку.” | Устойчивость к работе с полным стеком                 |
| 4                                          | Пользователь пытается удалить элемент пустого стека.                                                         | Программа выведет сообщение об ошибке “Стек полон...”                                                         | Устойчивость к работе с пустым стеком                 |
| 5                                          | Пользователь просит вывести элементы пустого стека                                                           | Программа выведет сообщение об ошибке “Стек пуст...”                                                          | Устойчивость к работе с пустым стеком                 |
| 6                                          | Пользователь пытается проверить пустой стек на палиндром                                                     | Программа выведет сообщение об ошибке “Стек пуст...”                                                          | Устойчивость к работе с пустым стеком                 |

**7. Выводы по проделанной работе**
===================================

По результатам проделанной работы я сделал вывод, что в случаях, когда
происходящие изменения незначительны (n &lt;&lt; N, где n - количество
изменяемых элементов за операцию и N - общее число элементов), то лучше
по показателям и удобнее использовать списки.  
В противном случае, кода изменения значительные, то лучше использовать
массивы.

**8. Контрольные вопросы**
==========================

1.  Что такое стек?  
    > **Стек** – **это** структура данных, в которой элементы
    > поддерживают принцип LIFO (“Last in – first out”): последним вошел
    > – первым вышел. Или первым вошел – последним вышел. **Стек**
    > позволяет хранить элементы и поддерживает, обычно, базовые
    > операции: добавление элемента на вершину стека и его снятие.

2.  Каким образом и сколько памяти выделяется под хранение стека при
    > различной его реализации?  
    > При массиве n \* 2 Байта + 2 Байта  
    > При списке n \* 10 Байт

3.  Каким образом освобождается память при удалении элемента стека при
    > различной реализации стека?  
    > В стеке удобнее, что можно освободить сразу последний элемент и не
    > совершать переписывание элементов, как в целочисленном массиве.

4.  Что происходит с элементами стека при его просмотре?  
    > Их приходится снимать с вершины и перекладывать в копию для того,
    > чтобы потом снова положить в стек.

5.  Каким образом эффективнее реализовывать стек? От чего это зависит?  
    > Если происходят постоянные незначительные по количеству от общего
    > размера стека операции, то выгоднее использовать списки, потому
    > что не будет прохода по всему массиву для полного снятия и
    > последующего освобождения.  
    > Такие операции позволяют использовать меньше памяти.  
    > А если же операции над стеком происходят значительные относительно
    > его размера, то лучше использовать массив.
