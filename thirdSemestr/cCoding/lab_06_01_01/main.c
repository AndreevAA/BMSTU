#include <stdio.h>#include <string.h>#include <stdlib.h>#include "input.h"#include "output.h"#include "main.h"#include "operations.h"// Основная функция программыint main(int argc, char *argv[]){		// Флаг об ошибке	int errorflag = ERROR_STATUS;	// Параметры введены верно и файл существует	if (argc >= MIN_NUM_OF_ARGC && argc <= MAX_NUM_OF_ARGC)	{		// Флаг об открытие файла		FILE *operationfile = fopen(argv[1], "r");		// Файл с введенным названием существует		if (operationfile != NULL)		{			if (check_input_argv(argc, argv) == 0)			{				films all_films[MAX_NUMBER];				fill_struct(all_films);				char temp_title[MAX_SIZE], temp_name[MAX_SIZE], temp_year[MAX_SIZE];				int number_of_films = 0;				int reading_error = SUCCESS_STATUS;				while (scanf_input_data(temp_title, temp_name, temp_year, operationfile) == 0)				{					input_data_transomation(temp_title, temp_name, temp_year);					if (strlen(temp_name) > 25 || strlen(temp_title) > 25 || strlen(temp_year) > 25 || is_data_right(temp_year) == ERROR_STATUS || strlen(temp_name) == 0 || strlen(temp_title) == 0 || strlen(temp_year) == 0)						reading_error = ERROR_STATUS;					add_temp_film(all_films, &number_of_films, temp_title, temp_name, temp_year);					number_of_films += 1;										insertionsort(all_films, number_of_films, argv[2]);				}				if (number_of_films >= 1 && reading_error == SUCCESS_STATUS)				{					if (argc == MAX_NUM_OF_ARGC)					errorflag = search_field(all_films, number_of_films, argv[2], argv[3]);					else if (argc == MIN_NUM_OF_ARGC)					{						output_sorted_data(all_films, number_of_films);						errorflag = SUCCESS_STATUS;					}					}				else					errorflag = ERROR_STATUS;			}		}			fclose(operationfile);	}	//printf("errorflag = %d\n", errorflag);	return errorflag;}