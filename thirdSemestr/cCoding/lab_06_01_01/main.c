/*!\file\brief Основной файл программы\author    "Андреев Александр"\version   12\date      6 сентября 2020*/#include <stdio.h>#include <string.h>#include <stdlib.h>#include "input.h"#include "output.h"#include "main.h"#include "operations.h"// Основная функция программыint main(int argc, char *argv[]){		// Флаг об ошибке	int errorflag = ERROR_STATUS;	// Параметры введены верно и файл существует	if (argc >= MIN_NUM_OF_ARGC && argc <= MAX_NUM_OF_ARGC)	{		// Флаг об открытие файла		FILE *operationfile = fopen(argv[1], "r");		// Файл с введенным названием существует		if (operationfile != NULL)		{			// Проверка вошедших аргументов запуска программы			if (check_input_argv(argc, argv) == SUCCESS_STATUS)			{				films all_films[MAX_NUMBER];				// Заполнение структуры				fill_struct(all_films);				char temp_title[MAX_SIZE], temp_name[MAX_SIZE], temp_year[MAX_SIZE];				int number_of_input_strings = 0, reading_error = SUCCESS_STATUS;				while (feof(operationfile) == SUCCESS_STATUS)				{										// Построчное считывание файла					if (scanf_input_data(temp_title, temp_name, temp_year, operationfile) == SUCCESS_STATUS)					{						// Трансформация считанной строки						input_data_transomation(temp_title, temp_name, temp_year);						// Проверка вошедшего фильма по его параметрам						if (check_input_film(temp_title, temp_name, temp_year) == ERROR_STATUS)						{							fclose(operationfile);							return ERROR_STATUS;						}						// Добавление фильма в массив структур						add_temp_film(all_films, &number_of_input_strings, temp_title, temp_name, temp_year);						number_of_input_strings += 1;												// Сортировка вставкой фильма по ключу						insert_sort(all_films, number_of_input_strings, argv[2]);					}									}								fclose(operationfile);				if (reading_error == SUCCESS_STATUS && number_of_input_strings > 0 && get_number_of_films(all_films, number_of_input_strings) < 15)				{					if (argc == MAX_NUM_OF_ARGC)						errorflag = search_field(all_films, number_of_input_strings, argv[2], argv[3]);					else if (argc == MIN_NUM_OF_ARGC)						errorflag = output_sorted_data(all_films, number_of_input_strings);				}				else					errorflag = ERROR_STATUS;			}		}		}	return errorflag;}